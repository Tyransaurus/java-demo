<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>S3 Upload</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    .card { border: 1px solid #ddd; padding: 1rem; border-radius: 12px; max-width: 560px; }
    .msg { margin-top: .75rem; font-weight: 600; }
    ul { margin-top: 1rem; padding-left: 1.2rem; }
  </style>
</head>
<body>
  <h1>Upload a file to S3</h1>
  <div class="card">
    <form action="/s3/upload" method="post" enctype="multipart/form-data">
      <input type="file" name="file" required />
      <button>Upload</button>
    </form>
    <div class="msg" th:if="${message}" th:text="${message}"></div>
  </div>

  <h2>Objects in Bucket</h2>
  <ul>
    <li th:if="${objects == null or #lists.isEmpty(objects)}">(Bucket is empty)</li>
    <li th:each="k : ${objects}">
      <span th:text="${k}">filename</span>
      — <a th:href="@{/s3/download(key=${k})}">Download</a>
    </li>
  </ul>

  <p style="margin-top:1rem;"><a href="/">← Back to Home</a></p>
</body>
</html>